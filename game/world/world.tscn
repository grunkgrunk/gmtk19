[gd_scene load_steps=31 format=2]

[ext_resource path="res://world/world.gd" type="Script" id=1]
[ext_resource path="res://floor.tscn" type="PackedScene" id=2]
[ext_resource path="res://world/kitchen_floor.tscn" type="PackedScene" id=3]
[ext_resource path="res://particles/particle_emitter.tscn" type="PackedScene" id=4]
[ext_resource path="res://player/player.tscn" type="PackedScene" id=5]
[ext_resource path="res://sprites/sofa.png" type="Texture" id=6]
[ext_resource path="res://world/minigames.gd" type="Script" id=7]
[ext_resource path="res://world/minigame_area.tscn" type="PackedScene" id=8]
[ext_resource path="res://sprites/table_trash.png" type="Texture" id=9]
[ext_resource path="res://clean_up/clean_up.tscn" type="PackedScene" id=10]
[ext_resource path="res://minigame_channel/minigame_channel.tscn" type="PackedScene" id=11]
[ext_resource path="res://tv.tscn" type="PackedScene" id=12]
[ext_resource path="res://sprites/sink.png" type="Texture" id=13]
[ext_resource path="res://minigame_dishes/minigame_dishes.tscn" type="PackedScene" id=14]
[ext_resource path="res://minigame_rythm/minigame_rythm.tscn" type="PackedScene" id=15]
[ext_resource path="res://minigame_hold_timer/hold_timer.tscn" type="PackedScene" id=16]
[ext_resource path="res://sprites/door_w_lock.png" type="Texture" id=17]
[ext_resource path="res://minigame_lock/minigame_lock.tscn" type="PackedScene" id=18]
[ext_resource path="res://sprites/door.png" type="Texture" id=19]
[ext_resource path="res://sprites/guy.png" type="Texture" id=20]
[ext_resource path="res://number_guesser/number_guess.tscn" type="PackedScene" id=21]
[ext_resource path="res://password/terminal.tscn" type="PackedScene" id=22]
[ext_resource path="res://coffee/coffee.tscn" type="PackedScene" id=23]
[ext_resource path="res://light_switch.tscn" type="PackedScene" id=24]
[ext_resource path="res://sprites/trash_trashy.png" type="Texture" id=25]
[ext_resource path="res://white.png" type="Texture" id=26]
[ext_resource path="res://label.tscn" type="PackedScene" id=27]
[ext_resource path="res://world/timer_label.gd" type="Script" id=28]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

uniform float amount : hint_range(0,5);

void fragment() {

	COLOR.rgb = textureLod(SCREEN_TEXTURE,SCREEN_UV,amount).rgb;
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/amount = 0.0

[node name="world" type="Node2D"]
script = ExtResource( 1 )

[node name="floor" parent="." instance=ExtResource( 2 )]
position = Vector2( -384, -192 )
cell_size = Vector2( 16, 16 )
tile_data = PoolIntArray( 851997, 0, 0, 851998, 1, 0, 851999, 1, 0, 852000, 1, 0, 852001, 1, 0, 852002, 1, 0, 852003, 1, 0, 852004, 1, 0, 852005, 1, 0, 852006, 1, 0, 852007, 1, 0, 852008, 1, 0, 852009, 3, 0, 917533, 4, 0, 917534, 2, 0, 917535, 2, 0, 917536, 2, 0, 917537, 2, 0, 917538, 2, 0, 917539, 2, 0, 917540, 2, 0, 917541, 2, 0, 917542, 2, 0, 917543, 2, 0, 917544, 2, 0, 917545, 5, 0, 917551, 0, 0, 917552, 1, 0, 917553, 1, 0, 917554, 1, 0, 917555, 3, 0, 983069, 4, 0, 983070, 2, 0, 983071, 2, 0, 983072, 2, 0, 983073, 2, 0, 983074, 2, 0, 983075, 2, 0, 983076, 2, 0, 983077, 2, 0, 983078, 2, 0, 983079, 2, 0, 983080, 2, 0, 983081, 5, 0, 983087, 4, 0, 983088, 2, 0, 983089, 2, 0, 983090, 2, 0, 983091, 5, 0, 1048605, 4, 0, 1048606, 2, 0, 1048607, 2, 0, 1048608, 2, 0, 1048609, 2, 0, 1048610, 2, 0, 1048611, 2, 0, 1048612, 2, 0, 1048613, 2, 0, 1048614, 2, 0, 1048615, 2, 0, 1048616, 2, 0, 1048617, 5, 0, 1048623, 4, 0, 1048624, 2, 0, 1048625, 2, 0, 1048626, 2, 0, 1048627, 5, 0, 1114141, 4, 0, 1114142, 2, 0, 1114143, 2, 0, 1114144, 2, 0, 1114145, 2, 0, 1114146, 2, 0, 1114147, 2, 0, 1114148, 2, 0, 1114149, 2, 0, 1114150, 2, 0, 1114151, 2, 0, 1114152, 2, 0, 1114153, 5, 0, 1114159, 4, 0, 1114160, 2, 0, 1114161, 2, 0, 1114162, 2, 0, 1114163, 5, 0, 1179677, 4, 0, 1179678, 2, 0, 1179679, 2, 0, 1179680, 2, 0, 1179681, 2, 0, 1179682, 2, 0, 1179683, 2, 0, 1179684, 2, 0, 1179685, 2, 0, 1179686, 2, 0, 1179687, 2, 0, 1179688, 2, 0, 1179689, 5, 0, 1179695, 4, 0, 1179696, 2, 0, 1179697, 2, 0, 1179698, 2, 0, 1179699, 5, 0, 1245213, 4, 0, 1245214, 2, 0, 1245215, 2, 0, 1245216, 2, 0, 1245217, 2, 0, 1245218, 2, 0, 1245219, 2, 0, 1245220, 2, 0, 1245221, 2, 0, 1245222, 2, 0, 1245223, 2, 0, 1245224, 2, 0, 1245225, 5, 0, 1245226, 1, 0, 1245227, 1, 0, 1245228, 1, 0, 1245229, 1, 0, 1245230, 1, 0, 1245231, 1, 0, 1245232, 1, 0, 1245233, 2, 0, 1245234, 2, 0, 1245235, 1, 0, 1245236, 1, 0, 1245237, 1, 0, 1245238, 1, 0, 1245239, 1, 0, 1245240, 3, 0, 1310749, 4, 0, 1310750, 2, 0, 1310751, 2, 0, 1310752, 2, 0, 1310753, 2, 0, 1310754, 2, 0, 1310755, 2, 0, 1310756, 2, 0, 1310757, 2, 0, 1310758, 2, 0, 1310759, 2, 0, 1310760, 2, 0, 1310761, 2, 0, 1310762, 2, 0, 1310763, 2, 0, 1310764, 2, 0, 1310765, 2, 0, 1310766, 2, 0, 1310767, 2, 0, 1310768, 2, 0, 1310769, 2, 0, 1310770, 2, 0, 1310771, 2, 0, 1310772, 2, 0, 1310773, 2, 0, 1310774, 2, 0, 1310775, 2, 0, 1310776, 2, 0, 1310777, 2, 0, 1376285, 4, 0, 1376286, 2, 0, 1376287, 2, 0, 1376288, 2, 0, 1376289, 2, 0, 1376290, 2, 0, 1376291, 2, 0, 1376292, 2, 0, 1376293, 2, 0, 1376294, 2, 0, 1376295, 2, 0, 1376296, 2, 0, 1376297, 2, 0, 1376298, 2, 0, 1376299, 2, 0, 1376300, 2, 0, 1376301, 2, 0, 1376302, 2, 0, 1376303, 2, 0, 1376304, 2, 0, 1376305, 2, 0, 1376306, 2, 0, 1376307, 2, 0, 1376308, 2, 0, 1376309, 2, 0, 1376310, 2, 0, 1376311, 2, 0, 1376312, 2, 0, 1376313, 2, 0, 1441821, 4, 0, 1441822, 2, 0, 1441823, 2, 0, 1441824, 2, 0, 1441825, 2, 0, 1441826, 2, 0, 1441827, 2, 0, 1441828, 2, 0, 1441829, 2, 0, 1441830, 2, 0, 1441831, 2, 0, 1441832, 2, 0, 1441833, 5, 0, 1441834, 7, 0, 1441835, 7, 0, 1441836, 7, 0, 1441837, 7, 0, 1441838, 7, 0, 1441839, 7, 0, 1441840, 7, 0, 1441841, 7, 0, 1441842, 7, 0, 1441843, 7, 0, 1441844, 7, 0, 1441845, 7, 0, 1441846, 7, 0, 1441847, 7, 0, 1441848, 8, 0, 1507357, 6, 0, 1507358, 7, 0, 1507359, 7, 0, 1507360, 7, 0, 1507361, 7, 0, 1507362, 7, 0, 1507363, 7, 0, 1507364, 7, 0, 1507365, 7, 0, 1507366, 7, 0, 1507367, 7, 0, 1507368, 7, 0, 1507369, 8, 0 )

[node name="kitchen_floor" parent="." instance=ExtResource( 3 )]
position = Vector2( -384, -192 )
tile_data = PoolIntArray( 1114169, 1, 0, 1114170, 2, 0, 1114171, 2, 0, 1114172, 2, 0, 1114173, 2, 0, 1114174, 3, 0, 1179705, 4, 0, 1179706, 5, 0, 1179707, 5, 0, 1179708, 5, 0, 1179709, 5, 0, 1179710, 6, 0, 1245241, 5, 0, 1245242, 5, 0, 1245243, 5, 0, 1245244, 5, 0, 1245245, 5, 0, 1245246, 6, 0, 1310778, 5, 0, 1310779, 5, 0, 1310780, 5, 0, 1310781, 5, 0, 1310782, 6, 0, 1376314, 5, 0, 1376315, 5, 0, 1376316, 5, 0, 1376317, 5, 0, 1376318, 6, 0, 1441849, 5, 0, 1441850, 5, 0, 1441851, 5, 0, 1441852, 5, 0, 1441853, 5, 0, 1441854, 6, 0, 1507385, 4, 0, 1507386, 5, 0, 1507387, 5, 0, 1507388, 5, 0, 1507389, 5, 0, 1507390, 6, 0, 1572921, 7, 0, 1572922, 8, 0, 1572923, 8, 0, 1572924, 8, 0, 1572925, 8, 0, 1572926, 9, 0 )

[node name="particle_emitter" parent="." instance=ExtResource( 4 )]
position = Vector2( -252.937, -102.18 )

[node name="room" type="YSort" parent="."]

[node name="player" parent="room" instance=ExtResource( 5 )]
position = Vector2( 160, 96 )

[node name="sofa" type="Sprite" parent="room"]
position = Vector2( 160, 64 )
texture = ExtResource( 6 )
offset = Vector2( 0, -6 )

[node name="minigames" type="YSort" parent="room"]
position = Vector2( -384, -176 )
script = ExtResource( 7 )

[node name="clean_room" parent="room/minigames" instance=ExtResource( 8 )]
position = Vector2( 592, 228 )
texture = ExtResource( 9 )
offset = Vector2( 0, -6 )
game_name = "clean_room"
minigame_scene = ExtResource( 10 )

[node name="channel" parent="room/minigames" instance=ExtResource( 8 )]
position = Vector2( 544, 214 )
texture = null
game_name = "channel"
minigame_scene = ExtResource( 11 )

[node name="tv" parent="room/minigames/channel" instance=ExtResource( 12 )]

[node name="dishes" parent="room/minigames" instance=ExtResource( 8 )]
position = Vector2( 952, 272 )
texture = ExtResource( 13 )
offset = Vector2( 0, -6 )
game_name = "dishes"
minigame_scene = ExtResource( 14 )

[node name="rythm" parent="room/minigames" instance=ExtResource( 8 )]
position = Vector2( 432, 336 )
game_name = "rythm"
minigame_scene = ExtResource( 15 )

[node name="hold_timer" parent="room/minigames" instance=ExtResource( 8 )]
position = Vector2( 960, 344 )
game_name = "hold_timer"
minigame_scene = ExtResource( 16 )

[node name="lock" parent="room/minigames" instance=ExtResource( 8 )]
editor/display_folded = true
position = Vector2( 672, 320 )
texture = ExtResource( 17 )
offset = Vector2( -8, 0 )
flip_h = true
game_name = "lock"
minigame_scene = ExtResource( 18 )

[node name="door" type="Sprite" parent="room/minigames/lock"]
scale = Vector2( 1, 4 )
texture = ExtResource( 19 )

[node name="number_guesser" parent="room/minigames" instance=ExtResource( 8 )]
position = Vector2( 784, 240 )
texture = ExtResource( 20 )
offset = Vector2( 0, -15.06 )
game_name = "number_guesser"
minigame_scene = ExtResource( 21 )

[node name="terminal" parent="room/minigames" instance=ExtResource( 8 )]
position = Vector2( 496, 248 )
game_name = "terminal"
minigame_scene = ExtResource( 22 )

[node name="coffee" parent="room" instance=ExtResource( 23 )]
position = Vector2( 464, 288 )

[node name="light_switch" parent="room" instance=ExtResource( 24 )]
visible = false

[node name="trash_trashy" type="Sprite" parent="room"]
position = Vector2( 256, 52 )
texture = ExtResource( 25 )
offset = Vector2( 0, -6 )

[node name="minigame_layer" type="CanvasLayer" parent="."]

[node name="blur_shader" type="TextureRect" parent="minigame_layer"]
visible = false
material = SubResource( 2 )
margin_left = -16.0
margin_top = -1.90735e-06
margin_right = 48.0
margin_bottom = 64.0001
rect_scale = Vector2( 16.9072, 9.9631 )
texture = ExtResource( 26 )

[node name="game" type="Node2D" parent="minigame_layer"]

[node name="game_over" type="Label" parent="."]
visible = false
margin_left = 496.0
margin_top = 288.0
margin_right = 572.0
margin_bottom = 319.0
text = "GAME OVER
"

[node name="ui" type="CanvasLayer" parent="."]

[node name="timer_label" parent="ui" instance=ExtResource( 27 )]
text = ""
script = ExtResource( 28 )

[node name="timer" type="Timer" parent="ui/timer_label"]
wait_time = 60.0
one_shot = true
autostart = true

[node name="blur_tween" type="Tween" parent="."]

[node name="minigame_tween" type="Tween" parent="."]

[connection signal="timeout" from="ui/timer_label/timer" to="ui/timer_label" method="_on_timer_timeout"]
